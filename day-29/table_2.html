<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Table-1</title>
    <script src="../react.development.js"></script>
    <script src="../babel.min.js"></script>
    <script src="../react-dom.development.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const App = () => {
        const data = [
          {
            name: "s1",
            rno: 1,
            marks: 89,
          },
          {
            name: "s2",
            rno: 2,
            marks: 90,
          },
        ];
        const [rowObj, setRowObj] = React.useState({});

        const handleClick = (row) => {
          console.log(row);
          setRowObj(row);
        };
        return (
          <div>
            <table border="2px">
              <thead>
                <tr>
                  <th>Name </th>
                  <th>Roll</th>
                  <th>Marks</th>
                  <th>View</th>
                </tr>
              </thead>
              <tbody>
                {data.map((ele, ind) => {
                  const { name, rno, marks } = ele;
                  return (
                    <tr key={ind}>
                      <td>{name}</td>
                      <td>{rno}</td>
                      <td>{marks}</td>
                      <td>
                        {/*<button onClick={fnClick(ele)}>view</button>   
                            
                         In react, event handler should be function not the function call, 
                         if we pass the parameters while calling event handler then it will become function call and this 
                         function call will gets executed on page reload itself.

                         so if we want to pass the parameter to the handler function use the arrow function

                         onClick = {()=>{handleClick(a,b,c)}}

                         or we can write like

                         onClick = {()=>handleClick(a,b,c)} 
                         // curly braces are not mandatory for arrow function if it has only one statement to excute. 
                                                    
                            */}
                        <button onClick={() => handleClick(ele)}>view</button>
                      </td>
                    </tr>
                  );
                })}
              </tbody>
            </table>
            {/*
                Inside Object class, we have one predefined static method called keys which returns the keys in the object

                Object.keys(<object_name>); => returns keys of given object in array format.
                
                */}

            {Object.keys(rowObj).length > 0 && (
              <table border="2px">
                <tbody>
                  {Object.keys(rowObj).map((ele, ind) => {
                    return (
                      <tr key={ind}>
                        <td>{ele}</td>
                        <td>{rowObj[ele]}</td>
                      </tr>
                    );
                  })}
                </tbody>
              </table>
            )}
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
